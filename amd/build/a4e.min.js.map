{"version":3,"sources":["../src/a4e.js"],"names":["define","$","Ajax","flip","textFit","templates","a4e","face","register_events","console","log","progress_dots","results","terms","code","color","forEach","o","i","points","html","shuffle","a","j","x","length","Math","floor","random","pretty_print_secs","time","minutes","str_pad_left","list_vocab","target","tdata","render","then","cards","faces","setTimeout","axis","multiLine","maxFontSize","alignHoriz","alignVert","on","calc_total_points","total","each","calc_total_time","total_time","basic_feedback","detailed_feedback","k","v","ucfirst","string","pad","Array","join","slice","str","f","charAt","toUpperCase","substr"],"mappings":"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","sourcesContent":["/**\n * Apps4EFL module.\n *\n * @package mod_wordcards\n * @author  Justin Hunt - poodll.com\n * (based on Paul Raine's APPs 4 EFL)\n */\n\ndefine([\n  'jquery',\n  'core/ajax',\n  'mod_wordcards/flip',\n  'mod_wordcards/textfit',\n  'core/templates'\n], function($, Ajax, flip, textFit, templates) {\n\n  var a4e = {\n\n    face: true,\n\n    register_events: function() {\n      console.log(\"register_events within a4e.js\");\n    },\n\n    progress_dots: function(results, terms) {\n\n      var code = \"\",\n        color;\n      terms.forEach(function(o, i) {\n        color = \"darkgray\"\n        if (results[i] !== undefined) {\n          if (results[i].points) {\n            color = \"green\";\n          } else {\n            color = \"red\";\n          }\n        }\n        code += '<i style=\"color:' + color + ';\" class=\"fa fa-circle\"></i>';\n      });\n\n      $(\"#progress-dots\").html(code);\n\n    },\n\n    shuffle: function(a) {\n      var j, x, i;\n      for (i = a.length; i; i -= 1) {\n        j = Math.floor(Math.random() * i);\n        x = a[i - 1];\n        a[i - 1] = a[j];\n        a[j] = x;\n      }\n    },\n    pretty_print_secs: function(time) {\n      var minutes = Math.floor(time / 60);\n      var seconds = time - minutes * 60;\n      return a4e.str_pad_left(minutes, '0', 2) + ':' + a4e.str_pad_left(seconds, '0', 2);\n    },\n\n    list_vocab: function(target, terms) {\n\n      //template data\n      var tdata = [];\n      tdata['terms'] = terms;\n      templates.render('mod_wordcards/vocablist', tdata).then(\n        function(html, js) {\n          $(target).html(html);\n\n          var cards = $(\".a4e-flashcards-container .a4e-card\");\n          var faces = $(\".front,.back\");\n          setTimeout(function() {\n            cards.flip({axis:'x'});\n            textFit(faces, {\n              multiLine: true,\n              maxFontSize: 50,\n              alignHoriz: true,\n              alignVert: true\n            });\n          }, 100);\n\n          $('.a4e-flashcards-container .mod_wordcards_matching_frontbtn').on('click', function() {\n            $(\".a4e-flashcards-container .a4e-card\").flip(a4e.face);\n            a4e.face = !a4e.face;\n          });\n\n        }\n      );\n\n    },\n    calc_total_points: function(results) {\n      var total = 0;\n      $.each(results, function(i, o) {\n        if (o.points != undefined) {\n          total += o.points;\n        }\n      });\n      return total;\n    },\n    calc_total_time: function(results) {\n      var total_time = 0;\n      $.each(results, function(i, o) {\n        if (o.time != null) {\n          total_time += o.time;\n        }\n      });\n      return total_time;\n\n    },\n    basic_feedback: function(results) {\n\n      var total = 0;\n      var total_time = 0;\n\n      $.each(results, function(i, o) {\n        if (o.time != null) {\n          total_time += o.time;\n        }\n        if (o.points != undefined) {\n          total += o.points;\n        }\n      });\n      var code = \"<div class='a4e-basic_feedback'><h2>\";\n      code += \"<i class='fa fa-trophy'></i> \" + total + \" points\";\n      if (total_time != 0) {\n        code += \"<hr/><i class='fa fa-clock-o'></i> \" + a4e.pretty_print_secs(total_time)\n      };\n      code += \"</h2></div>\";\n      return code;\n\n    },\n    detailed_feedback: function(results) {\n\n      var code = \"<div style='text-align:center;'>\",\n        color;\n\n      $.each(results, function(i, o) {\n\n        color = \"\";\n\n        if (o.points > 0) {\n          color = \"a4e-correct\";\n        } else {\n          color = \"a4e-incorrect\";\n        }\n\n        code += \"<div class='a4e-detailed_feedback_div \" + color + \"'>\";\n        code += \"<h3 style='margin-bottom:10px;margin-top:5px;'>\" + (i + 1) + \"</h3>\";\n        $.each(o, function(k, v) {\n          if (k == \"time\") {\n            code += \"<p><strong>\" + a4e.ucfirst(k) + \"</strong>:<br/>\" + a4e.pretty_print_secs(v) + \"</p>\";\n          } else {\n            code += \"<p><strong>\" + a4e.ucfirst(k) + \"</strong>:<br/>\" + (v == \"\" ? \"N/A\" : v) + \"</p>\";\n          }\n        });\n        code += \"</div>\";\n      });\n\n      code += \"</div>\";\n\n      return code;\n\n    },\n\n    str_pad_left: function(string, pad, length) {\n      return (new Array(length + 1).join(pad) + string).slice(-length);\n    },\n\n    ucfirst: function(str) {\n      str += ''\n      var f = str.charAt(0).toUpperCase()\n      return f + str.substr(1)\n    }\n\n  };\n\n  return a4e;\n\n});"],"file":"a4e.min.js"}