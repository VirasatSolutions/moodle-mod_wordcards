{"version":3,"sources":["../src/a4e.js"],"names":["define","$","Ajax","flip","textFit","templates","a4e","register_events","shuffle","a","j","x","i","length","Math","floor","random","pretty_print_secs","time","minutes","str_pad_left","list_vocab","target","terms","tdata","render","then","html","cards","faces","setTimeout","multiLine","maxFontSize","alignHoriz","alignVert","on","calc_total_points","results","total","each","o","points","calc_total_time","total_time","basic_feedback","code","detailed_feedback","color","k","v","ucfirst","string","pad","Array","join","slice","str","f","charAt","toUpperCase","substr"],"mappings":"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","sourcesContent":["/**\n * Apps4EFL module.\n *\n * @package mod_wordcards\n * @author  Justin Hunt - poodll.com\n * (based on Paul Raine's APPs 4 EFL)\n */\n\n\ndefine([\n    'jquery',\n    'core/ajax',\n    'mod_wordcards/flip',\n    'mod_wordcards/textfit',\n    'core/templates'\n], function($, Ajax,flip,textFit, templates) {\n\n    var a4e = {\n\n        register_events: function(){\n         //nothing to do here currently\n        },\n\n        shuffle:function(a) {\n            var j, x, i;\n            for (i = a.length; i; i -= 1) {\n                j = Math.floor(Math.random() * i);\n                x = a[i - 1];\n                a[i - 1] = a[j];\n                a[j] = x;\n            }\n        },\n        pretty_print_secs:function(time){\n            var minutes = Math.floor(time / 60);\n            var seconds = time - minutes * 60;\n            return a4e.str_pad_left(minutes,'0',2)+':'+a4e.str_pad_left(seconds,'0',2);\n        },\n\n        list_vocab:function(target, terms){\n\n            //template data\n            var tdata=[];\n            tdata['terms']=terms;\n            templates.render('mod_wordcards/vocablist',tdata).then(\n                function(html,js){\n                    $(target).html(html);\n\n                    var cards =  $(\".a4e-flashcards-container .a4e-card\");\n                    var faces = $(\".front-label,.front-label-no-img,.back\");\n                    setTimeout(function(){\n                        cards.flip();\n                        textFit(faces,{multiLine: true, maxFontSize: 50, alignHoriz: true, alignVert: true});\n                    },100);\n\n                    $('.a4e-flashcards-container .mod_wordcards_matching_reversebtn').on('click',function(){\n                        $(\".a4e-flashcards-container .a4e-card\").flip(true);\n                    });\n                    $('.a4e-flashcards-container .mod_wordcards_matching_frontbtn').on('click',function(){\n                        $(\".a4e-flashcards-container .a4e-card\").flip(false);\n                    });\n\n                }\n            );\n\n/*\n\n            var code='<div class=\"a4e-flashcards-container\">';\n            code+=\"<button style='margin:5px;width:40%;display:inline-block;' class='btn btn-block btn-lg btn-danger mod_wordcards_matching_reversebtn'>&#8634; Reverse</button>\";\n            code+=\"<button style='margin:5px;width:40%;display:inline-block;' class='btn btn-block btn-lg btn-primary mod_wordcards_matching_frontbtn'>&#8635; Front</button>\";\n\n            $.each(terms,function(i,o){\n                if(o.image && o.definition!=\"\"){\n                    code+='<div class=\"a4e-card a4e-noselect\"><div style=\"background-image: url('+o.image.url+');\" class=\"front a4e-img-def\"><div class=\"front-label\">'+o.definition+'</div></div><div class=\"back\">'+o.term+'</div></div>';\n                }\n                else if(o.image && o.definition==\"\"){\n                    code+='<div class=\"a4e-card a4e-noselect\"><div style=\"background-image: url('+o.image.url+');\" class=\"front a4e-no-def\"></div><div class=\"back\">'+o.term+'</div></div>';\n                }\n                else if(!o.image && o.definition!=\"\"){\n                    code+='<div class=\"a4e-card a4e-noselect\"><div class=\"front\"><div class=\"front-label-no-img\">'+o.definition+'</div></div><div class=\"back\">'+o.term+'</div></div>';\n                }\n            });\n\n            code+=\"</div>\";\n\n            $(target).html(code);\n            */\n\n/*\n\n            var cards =  $(\".a4e-flashcards-container .a4e-card\");\n            var faces = $(\".front-label,.front-label-no-img,.back\");\n            setTimeout(function(){\n                cards.flip();\n                textFit(faces,{multiLine: true, maxFontSize: 50, alignHoriz: true, alignVert: true});\n            },100);\n            */\n\n        },\n        calc_total_points:function(results){\n            var total=0;\n            $.each(results,function(i,o){\n                if(o.points!=undefined){\n                    total+=o.points;\n                }\n            });\n            return total;\n        },\n        calc_total_time:function(results){\n            var total_time=0;\n            $.each(results,function(i,o){\n                if(o.time!=null){\n                    total_time+=o.time;\n                }\n            });\n            return total_time;\n\n        },\n        basic_feedback:function(results){\n\n            var total=0;\n            var total_time=0;\n\n            $.each(results,function(i,o){\n                if(o.time!=null){\n                    total_time+=o.time;\n                }\n                if(o.points!=undefined){\n                    total+=o.points;\n                }\n            });\n            var code=\"<div class='a4e-basic_feedback'><h2>\";\n            code+=\"<i class='fa fa-trophy'></i> \"+total+\" points\";\n            if(total_time!=0){code+=\"<hr/><i class='fa fa-clock-o'></i> \"+a4e.pretty_print_secs(total_time)};\n            code+=\"</h2></div>\";\n            return code;\n\n        },\n        detailed_feedback:function(results){\n\n            var code=\"<div style='text-align:center;'>\", color;\n\n            $.each(results,function(i,o){\n\n                color=\"\";\n\n                if(o.points>0){\n                    color=\"a4e-correct\";\n                }\n                else{\n                    color=\"a4e-incorrect\";\n                }\n\n                code+=\"<div class='a4e-detailed_feedback_div \"+color+\"'>\";\n                code+=\"<h3 style='margin-bottom:10px;margin-top:5px;'>\"+(i+1)+\"</h3>\";\n                $.each(o,function(k,v){\n                    if(k==\"time\"){\n                        code+=\"<p><strong>\"+a4e.ucfirst(k)+\"</strong>:<br/>\"+a4e.pretty_print_secs(v)+\"</p>\";\n                    }\n                    else{\n                        code+=\"<p><strong>\"+a4e.ucfirst(k)+\"</strong>:<br/>\"+(v==\"\"?\"N/A\":v)+\"</p>\";\n                    }\n                });\n                code+=\"</div>\";\n            });\n\n            code+=\"</div>\";\n\n            return code;\n\n        },\n\n        str_pad_left:function(string,pad,length) {\n            return (new Array(length+1).join(pad)+string).slice(-length);\n        },\n\n        ucfirst:function (str) {\n            str += ''\n            var f = str.charAt(0).toUpperCase()\n            return f + str.substr(1)\n        }\n\n    };\n\n    return a4e;\n\n});\n"],"file":"a4e.min.js"}