define(["jquery","core/ajax","mod_wordcards/flip","mod_wordcards/textfit","core/templates"],function(a,b,c,d,e){var f={register_events:function(){},shuffle:function(a){var b,c,d;for(d=a.length;d;d-=1)b=Math.floor(Math.random()*d),c=a[d-1],a[d-1]=a[b],a[b]=c},pretty_print_secs:function(a){var b=Math.floor(a/60),c=a-60*b;return f.str_pad_left(b,"0",2)+":"+f.str_pad_left(c,"0",2)},list_vocab:function(b,c){var f=[];f.terms=c,e.render("mod_wordcards/vocablist",f).then(function(c,e){a(b).html(c);var f=a(".a4e-flashcards-container .a4e-card"),g=a(".front-label,.front-label-no-img,.back");setTimeout(function(){f.flip(),d(g,{multiLine:!0,maxFontSize:50,alignHoriz:!0,alignVert:!0})},100),a(".a4e-flashcards-container .mod_wordcards_matching_reversebtn").on("click",function(){a(".a4e-flashcards-container .a4e-card").flip(!0)}),a(".a4e-flashcards-container .mod_wordcards_matching_frontbtn").on("click",function(){a(".a4e-flashcards-container .a4e-card").flip(!1)})})},calc_total_points:function(b){var c=0;return a.each(b,function(a,b){void 0!=b.points&&(c+=b.points)}),c},calc_total_time:function(b){var c=0;return a.each(b,function(a,b){null!=b.time&&(c+=b.time)}),c},basic_feedback:function(b){var c=0,d=0;a.each(b,function(a,b){null!=b.time&&(d+=b.time),void 0!=b.points&&(c+=b.points)});var e="<div class='a4e-basic_feedback'><h2>";return e+="<i class='fa fa-trophy'></i> "+c+" points",0!=d&&(e+="<hr/><i class='fa fa-clock-o'></i> "+f.pretty_print_secs(d)),e+="</h2></div>"},detailed_feedback:function(b){var c,d="<div style='text-align:center;'>";return a.each(b,function(b,e){c="",c=e.points>0?"a4e-correct":"a4e-incorrect",d+="<div class='a4e-detailed_feedback_div "+c+"'>",d+="<h3 style='margin-bottom:10px;margin-top:5px;'>"+(b+1)+"</h3>",a.each(e,function(a,b){d+="time"==a?"<p><strong>"+f.ucfirst(a)+"</strong>:<br/>"+f.pretty_print_secs(b)+"</p>":"<p><strong>"+f.ucfirst(a)+"</strong>:<br/>"+(""==b?"N/A":b)+"</p>"}),d+="</div>"}),d+="</div>"},str_pad_left:function(a,b,c){return(new Array(c+1).join(b)+a).slice(-c)},ucfirst:function(a){a+="";var b=a.charAt(0).toUpperCase();return b+a.substr(1)}};return f});