define(["jquery","core/ajax","mod_wordcards/flip","mod_wordcards/textfit"],function(a,b,c,d){var e={register_events:function(){a(".mod_wordcards_matching_reversebtn").on("click",function(){a(".a4e-flashcards-container .a4e-card").flip(!0)}),a(".mod_wordcards_matching_frontbtn").on("click",function(){a(".a4e-flashcards-container .a4e-card").flip(!1)})},shuffle:function(a){var b,c,d;for(d=a.length;d;d-=1)b=Math.floor(Math.random()*d),c=a[d-1],a[d-1]=a[b],a[b]=c},pretty_print_secs:function(a){var b=Math.floor(a/60),c=a-60*b;return e.str_pad_left(b,"0",2)+":"+e.str_pad_left(c,"0",2)},list_quizlet_vocab:function(b,c){var e='<div class="a4e-flashcards-container">';e+="<button style='margin:5px;width:40%;display:inline-block;' class='btn btn-block btn-lg btn-danger mod_wordcards_matching_reversebtn'>&#8634; Reverse</button>",e+="<button style='margin:5px;width:40%;display:inline-block;' class='btn btn-block btn-lg btn-primary mod_wordcards_matching_frontbtn'>&#8635; Front</button>",a.each(c,function(a,b){b.image&&""!=b.definition?e+='<div class="a4e-card a4e-noselect"><div style="background-image: url('+b.image.url+');" class="front a4e-img-def"><div class="front-label">'+b.definition+'</div></div><div class="back">'+b.term+"</div></div>":b.image&&""==b.definition?e+='<div class="a4e-card a4e-noselect"><div style="background-image: url('+b.image.url+');" class="front a4e-no-def"></div><div class="back">'+b.term+"</div></div>":b.image||""==b.definition||(e+='<div class="a4e-card a4e-noselect"><div class="front"><div class="front-label-no-img">'+b.definition+'</div></div><div class="back">'+b.term+"</div></div>")}),e+="</div>",a(b).html(e);var f=a(".a4e-flashcards-container .a4e-card"),g=a(".front-label,.front-label-no-img,.back");setTimeout(function(){f.flip(),d(g,{multiLine:!0,maxFontSize:50,alignHoriz:!0,alignVert:!0})},100)},basic_feedback:function(b){var c=0,d=0;a.each(b,function(a,b){null!=b.time&&(d+=b.time),void 0!=b.points&&(c+=b.points)});var f="<div class='a4e-basic_feedback'><h2>";return f+="<i class='fa fa-trophy'></i> "+c+" points",0!=d&&(f+="<hr/><i class='fa fa-clock-o'></i> "+e.pretty_print_secs(d)),f+="</h2></div>"},detailed_feedback:function(b){var c,d="<div style='text-align:center;'>";return a.each(b,function(b,f){c="",c=f.points>0?"a4e-correct":"a4e-incorrect",d+="<div class='a4e-detailed_feedback_div "+c+"'>",d+="<h3 style='margin-bottom:10px;margin-top:5px;'>"+(b+1)+"</h3>",a.each(f,function(a,b){d+="time"==a?"<p><strong>"+e.ucfirst(a)+"</strong>:<br/>"+e.pretty_print_secs(b)+"</p>":"<p><strong>"+e.ucfirst(a)+"</strong>:<br/>"+(""==b?"N/A":b)+"</p>"}),d+="</div>"}),d+="</div>"},str_pad_left:function(a,b,c){return(new Array(c+1).join(b)+a).slice(-c)},ucfirst:function(a){a+="";var b=a.charAt(0).toUpperCase();return b+a.substr(1)}};return e});